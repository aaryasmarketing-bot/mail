<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aarya Shrivastav - Email Marketing</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- Hero Section -->
<header class="text-center py-5 bg-primary text-white">
    <div class="container">
        <h1 class="display-4 fw-bold">Aarya Shrivastav</h1>
        <p class="lead mt-3">Helping Businesses Grow Revenue & Engage Customers with Professional Email Campaigns</p>
        <a href="#free-trial" class="btn btn-light btn-lg mt-4">Book Your Free Trial</a>
    </div>
</header>

<!-- Advantages Section -->
<section class="container py-5">
    <h2 class="text-center mb-4">Why Hire Me?</h2>
    <div class="row text-center">
        {% for advantage in advantages %}
        <div class="col-md-3 mb-3">
            <div class="card h-100 p-3">
                <h5>{{ advantage }}</h5>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Services Section -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Services I Offer</h2>
        <div class="row text-center">
            {% for service in services %}
            <div class="col-md-3 mb-3">
                <div class="card h-100 p-3">
                    <h5>{{ service }}</h5>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="container py-5">
    <h2 class="text-center mb-4">How It Works</h2>
    <ol class="fs-5">
        {% for step in how_it_works %}
        <li>{{ step }}</li>
        {% endfor %}
    </ol>
</section>

<!-- Testimonials Section -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Testimonials</h2>
        <div class="row">
            {% for testimonial in testimonials %}
            <div class="col-md-6 mb-3">
                <div class="card p-3">
                    <p>"{{ testimonial.text }}"</p>
                    <p><strong>- {{ testimonial.name }}</strong></p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Free Trial Signup & PayPal Payment Section -->
<section id="free-trial" class="container py-5">
    <h2 class="text-center mb-4">Free Trial Signup / Pay for Service</h2>
    <form id="trialForm" class="mx-auto p-4 bg-white rounded shadow-sm" style="max-width: 500px;">
        <input type="text" name="name" placeholder="Your Name" required class="form-control mb-2">
        <input type="email" name="email" placeholder="Your Email" required class="form-control mb-2">
        <input type="text" name="company" placeholder="Company Name" class="form-control mb-2">

        <!-- Service Selection -->
        <select id="serviceSelect" name="service" required class="form-select mb-2">
            <option value="">Select One Service</option>
            {% for service in services %}
            <option value="{{ service }}">{{ service }}</option>
            {% endfor %}
        </select>

        <textarea name="message" placeholder="Additional Message" class="form-control mb-2"></textarea>

        <!-- Submit for Free Trial -->
        <button type="submit" class="btn btn-primary w-100 mb-2">Submit Free Trial</button>
    </form>

    <!-- PayPal Button -->
    <div id="paypal-button-container" class="mx-auto" style="max-width: 400px;"></div>
</section>

<!-- Footer -->
<footer class="text-center py-3 bg-dark text-white">
    <p>Contact: aarya.s.marketing@gmail.com | GDPR & CAN-SPAM Compliant</p>
</footer>

<!-- PayPal SDK -->
<script src="https://www.paypal.com/sdk/js?client-id=AanMSH3eQAaNbb-U2_YCv4ZAjjIBWx7RfsDcv5MpqlhavFGSFzfUxgkxhMdEYzck5Vz4dLbIUCp9qWvU&currency=USD"></script>

<script>
// PayPal button
paypal.Buttons({
    createOrder: function(data, actions) {
        let service = document.getElementById('serviceSelect').value;
        if (!service) {
            alert("Please select a service before paying.");
            return;
        }

        // Amounts per service
        let amount = 10.00;
        if(service === "Email Campaign Creation") amount = 20.00;
        if(service === "Welcome/Onboarding Sequences") amount = 25.00;
        if(service === "Newsletters & Automation") amount = 30.00;
        if(service === "Analytics & Reporting") amount = 15.00;

        return actions.order.create({
            purchase_units: [{
                amount: { value: amount.toFixed(2) }
            }]
        });
    },
    onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
            // Send client info to backend
            const name = document.querySelector('input[name="name"]').value;
            const email = document.querySelector('input[name="email"]').value;
            const company = document.querySelector('input[name="company"]').value;
            const service = document.querySelector('select[name="service"]').value;

            fetch('/paypal_capture', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({name, email, company, service})
            }).then(() => {
                window.location.href = "/success";
            });
        });
    },
    onCancel: function(data) {
        window.location.href = "/cancel";
    }
}).render('#paypal-button-container');
</script>

</body>
</html>
